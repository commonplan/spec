%YAML 1.2
---
scalar_functions:
  -
    name: concat
    description: Concatenate two strings
    impls:
      - args:
          - value: "varchar<L1>"
          - value: "varchar<L2>"
        return: "varchar<L1 + L2>"
      - args:
          - value: "string"
          - value: "string"
        return: "string"
  -
    name: like
    description: Are two strings like each other.
    impls:
      - args:
          - value: "varchar<L1>"
          - value: "varchar<L2>"
        return: "BOOLEAN"
      - args:
          - value: "string"
          - value: "string"
        return: "BOOLEAN"
  -
    name: substring
    description: Extract a portion of a string from another string.
    impls:
      - args:
          - value: "varchar<L1>"
          - value: i32
          - value: i32
        return: "varchar<L1>"
      - args:
          - value: "string"
          - value: i32
          - value: i32
        return: "string"
      - args:
          - value: "fixedchar<l1>"
          - value: i32
          - value: i32
        return: "string"
  - name: starts_with
    description: Whether this string starts with another string.
    impls:
      - args:
          - value: "varchar<L1>"
          - value: "varchar<L2>"
        return: "BOOLEAN"
      - args:
          - value: "varchar<L1>"
          - value: "string"
        return: "BOOLEAN"
      - args:
          - value: "varchar<L1>"
          - value: "fixedchar<L2>"
        return: "BOOLEAN"
      - args:
          - value: "string"
          - value: "string"
        return: "BOOLEAN"
      - args:
          - value: "string"
          - value: "varchar<L1>"
        return: "BOOLEAN"
      - args:
          - value: "string"
          - value: "fixedchar<L1>"
        return: "BOOLEAN"
      - args:
          - value: "fixedchar<L1>"
          - value: "fixedchar<L2>"
        return: "BOOLEAN"
      - args:
          - value: "fixedchar<L1>"
          - value: "string"
        return: "BOOLEAN"
      - args:
          - value: "fixedchar<L1>"
          - value: "varchar<L2>"
        return: "BOOLEAN"
  -
    name: ends_with
    description: Whether this string ends with another string.
    impls:
      - args:
          - value: "varchar<L1>"
          - value: "varchar<L2>"
        return: "BOOLEAN"
      - args:
          - value: "varchar<L1>"
          - value: "string"
        return: "BOOLEAN"
      - args:
          - value: "varchar<L1>"
          - value: "fixedchar<L2>"
        return: "BOOLEAN"
      - args:
          - value: "string"
          - value: "string"
        return: "BOOLEAN"
      - args:
          - value: "string"
          - value: "varchar<L1>"
        return: "BOOLEAN"
      - args:
          - value: "string"
          - value: "fixedchar<L1>"
        return: "BOOLEAN"
      - args:
          - value: "fixedchar<L1>"
          - value: "fixedchar<L2>"
        return: "BOOLEAN"
      - args:
          - value: "fixedchar<L1>"
          - value: "string"
        return: "BOOLEAN"
      - args:
          - value: "fixedchar<L1>"
          - value: "varchar<L2>"
        return: "BOOLEAN"
  -
    name: contains
    description: Whether this string contains another string.
    impls:
      - args:
          - value: "varchar<L1>"
          - value: "varchar<L2>"
        return: "BOOLEAN"
      - args:
          - value: "varchar<L1>"
          - value: "string"
        return: "BOOLEAN"
      - args:
          - value: "varchar<L1>"
          - value: "fixedchar<L2>"
        return: "BOOLEAN"
      - args:
          - value: "string"
          - value: "string"
        return: "BOOLEAN"
      - args:
          - value: "string"
          - value: "varchar<L1>"
        return: "BOOLEAN"
      - args:
          - value: "string"
          - value: "fixedchar<L1>"
        return: "BOOLEAN"
      - args:
          - value: "fixedchar<L1>"
          - value: "fixedchar<L2>"
        return: "BOOLEAN"
      - args:
          - value: "fixedchar<L1>"
          - value: "string"
        return: "BOOLEAN"
      - args:
          - value: "fixedchar<L1>"
          - value: "varchar<L2>"
        return: "BOOLEAN"
  -
    name: strpos
    description: >-
      Return the position of the first occurrence of a string in another string. The first
      character of the string is at position 1. If no occurrence is found, 0 is returned.
    impls:
      - args:
          - value: "string"
            name: "input"
            description: The input string.
          - value: "string"
            name: "substring"
            description: The substring to search for.
        return: i8
      - args:
          - value: "string"
            name: "input"
            description: The input string.
          - value: "varchar<L1>"
            name: "substring"
            description: The substring to search for.
        return: i8
      - args:
          - value: "string"
            name: "input"
            description: The input string.
          - value: "fixedchar<L1>"
            name: "substring"
            description: The substring to search for.
        return: i8
      - args:
          - value: "varchar<L1>"
            name: "input"
            description: The input string.
          - value: "varchar<L1>"
            name: "substring"
            description: The substring to search for.
        return: i8
      - args:
          - value: "varchar<L1>"
            name: "input"
            description: The input string.
          - value: "string"
            name: "substring"
            description: The substring to search for.
        return: i8
      - args:
          - value: "varchar<L1>"
            name: "input"
            description: The input string.
          - value: "fixedchar<L1>"
            name: "substring"
            description: The substring to search for.
        return: i8
      - args:
          - value: "fixedchar<L1>"
            name: "input"
            description: The input string.
          - value: "fixedchar<L1>"
            name: "substring"
            description: The substring to search for.
        return: i8
      - args:
          - value: "fixedchar<L1>"
            name: "input"
            description: The input string.
          - value: "string"
            name: "substring"
            description: The substring to search for.
        return: i8
      - args:
          - value: "fixedchar<L1>"
            name: "input"
            description: The input string.
          - value: "varchar<L1>"
            name: "substring"
            description: The substring to search for.
        return: i8
  -
    name: regexp_strpos
    description: >-
      Return the position of the first occurrence of a regular expression pattern in another
      string. The first character of the string is at position 1. If no occurrence is found,
      0 is returned.
    impls:
      - args:
          - options: [ CASE_SENSITIVE, CASE_INSENSITIVE ]
            required: false
          - value: "string"
            name: "input"
            description: The input string.
          - value: "string"
            name: "pattern"
            description: The regular expression pattern.
      - args:
          - options: [ CASE_SENSITIVE, CASE_INSENSITIVE ]
            required: false
          - value: "varchar<L1>"
            name: "input"
            description: The input string.
          - value: "varchar<L1>"
            name: "pattern"
            description: The regular expression pattern.
        return: i8
      - args:
          - options: [ CASE_SENSITIVE, CASE_INSENSITIVE ]
            required: false
          - value: "fixedchar<L1>"
            name: "input"
            description: The input string.
          - value: "fixedchar<L1>"
            name: "pattern"
            description: The regular expression pattern.
        return: i8
  -
    name: count_substring
    description: Returns the number of times a substring occurs in an input string.
    impls:
      - args:
          - value: "string"
            name: "input"
            description: The input string.
          - value: "string"
            name: "substring"
            description: The substring to count.
        return: i8
      - args:
          - value: "string"
            name: "input"
            description: The input string.
          - value: "varchar<L1>"
            name: "substring"
            description: The substring to count.
        return: i8
      - args:
          - value: "string"
            name: "input"
            description: The input string.
          - value: "fixedchar<L1>"
            name: "substring"
            description: The substring to count.
        return: i8
      - args:
          - value: "varchar<L1>"
            name: "input"
            description: The input string.
          - value: "varchar<L1>"
            name: "substring"
            description: The substring to count.
        return: i8
      - args:
          - value: "varchar<L1>"
            name: "input"
            description: The input string.
          - value: "string"
            name: "substring"
            description: The substring to count.
        return: i8
      - args:
          - value: "varchar<L1>"
            name: "input"
            description: The input string.
          - value: "fixedchar<L1>"
            name: "substring"
            description: The substring to count.
        return: i8
      - args:
          - value: "fixedchar<L1>"
            name: "input"
            description: The input string.
          - value: "fixedchar<L1>"
            name: "substring"
            description: The substring to count.
        return: i8
      - args:
          - value: "fixedchar<L1>"
            name: "input"
            description: The input string.
          - value: "string"
            name: "substring"
            description: The substring to count.
        return: i8
      - args:
          - value: "fixedchar<L1>"
            name: "input"
            description: The input string.
          - value: "varchar<L1>"
            name: "substring"
            description: The substring to count.
        return: i8
  -
    name: regexp_count_substring
    description: Returns the number of times a regular expression pattern occurs in an input string.
    impls:
      - args:
          - options: [ CASE_SENSITIVE, CASE_INSENSITIVE ]
            required: false
          - value: "string"
            name: "input"
            description: Input string.
          - value: "string"
            name: "pattern"
            description: The regular expression pattern.
        return: i8
      - args:
          - options: [ CASE_SENSITIVE, CASE_INSENSITIVE ]
            required: false
          - value: "varchar<L1>"
            name: "input"
            description: Input string.
          - value: "varchar<L1>"
            name: "pattern"
            description: The regular expression pattern.
        return: i8
      - args:
          - options: [ CASE_SENSITIVE, CASE_INSENSITIVE ]
            required: false
          - value: "fixedchar<L1>"
            name: "input"
            description: Input string.
          - value: "fixedchar<L1>"
            name: "pattern"
            description: The regular expression pattern.
        return: i8
  -
    name: regexp_matches
    description: >-
      Returns true if part of the input string matches the regular expression pattern.
    impls:
      - args:
          - options: [ CASE_SENSITIVE, CASE_INSENSITIVE ]
            required: false
          - value: "string"
            name: "input"
            description: Input string.
          - value: "string"
            name: "pattern"
            description: The regular expression pattern.
        return: "BOOLEAN"
      - args:
          - options: [ CASE_SENSITIVE, CASE_INSENSITIVE ]
            required: false
          - value: "varchar<L1>"
            name: "input"
            description: Input string.
          - value: "varchar<L1>"
            name: "pattern"
            description: The regular expression pattern.
        return: "BOOLEAN"
      - args:
          - options: [ CASE_SENSITIVE, CASE_INSENSITIVE ]
            required: false
          - value: "fixedchar<L1>"
            name: "input"
            description: Input string.
          - value: "fixedchar<L1>"
            name: "pattern"
            description: The regular expression pattern.
        return: "BOOLEAN"
  - name: replace
    description: >-
      Replace any occurrence of the substring with the replacement string
    impls:
      - args:
          - value: "string"
            name: "input"
            description: Input string.
          - value: "string"
            name: "substring"
            description: The substring to replace.
          - value: "string"
            name: "replacement"
            description: The replacement string.
        return: "string"
      - args:
          - value: "varchar<L1>"
            name: "input"
            description: Input string.
          - value: "varchar<L1>"
            name: "substring"
            description: The substring to replace.
          - value: "varchar<L1>"
            name: "replacement"
            description: The replacement string.
        return: "varchar<L1>"
      - args:
          - value: "fixedchar<L1>"
            name: "input"
            description: Input string.
          - value: "fixedchar<L1>"
            name: "substring"
            description: The substring to replace.
          - value: "fixedchar<L1>"
            name: "replacement"
            description: The replacement string.
        return: "fixedchar<L1>"
  -
    name: regexp_replace
    description: >-
      Replace the occurrence of the pattern with the replacement string.
    impls:
      - args:
          - name: case_sensitivity
            options: [ CASE_SENSITIVE, CASE_INSENSITIVE ]
            required: false
          - name: pattern_matching
            options: [ FIRST_OCCURRENCE, ALL_OCCURRENCES ]
            required: false
          - value: "string"
            name: "input"
            description: Input string.
          - value: "string"
            name: "pattern"
            description:  The regular expression for matching.
          - value: "string"
            name: "replacement"
            description: The string to replace the regular expression match with.
        return: "string"
      - args:
          - name: case_sensitivity
            options: [ CASE_SENSITIVE, CASE_INSENSITIVE ]
            required: false
          - name: pattern_matching
            options: [ FIRST_OCCURRENCE, ALL_OCCURRENCES ]
            required: false
          - value: "varchar<L1>"
            name: "input"
            description: Input string.
          - value: "varchar<L1>"
            name: "pattern"
            description:  The regular expression for matching.
          - value: "varchar<L1>"
            name: "replacement"
            description: The string to replace the regular expression match with.
        return: "varchar<L1>"
      - args:
          - name: case_sensitivity
            options: [ CASE_SENSITIVE, CASE_INSENSITIVE ]
            required: false
          - name: pattern_matching
            options: [ FIRST_OCCURRENCE, ALL_OCCURRENCES ]
            required: false
          - value: "fixedchar<L1>"
            name: "input"
            description: Input string.
          - value: "fixedchar<L1>"
            name: "pattern"
            description:  The regular expression for matching.
          - value: "fixedchar<L1>"
            name: "replacement"
            description: The string to replace the regular expression match with.
        return: "fixedchar<L1>"
